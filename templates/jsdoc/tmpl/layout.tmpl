<!DOCTYPE html>
<?js var that = this; ?>
<html lang="en">
<head>
    <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width">
    <title><?js= title ?>: <?js= this.navOptions.systemName ?></title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/syntax.default.css">
    <link type="text/css" rel="stylesheet" href="styles/style-o-matic.all.min.css">
</head>
<body>
<header class="ui-header ui-fixed">
  <div class="ui-nav ui-orientation-horizontal">
     <nav>
       <div class="ui-nav-widget">
         <div class="ui-nav-content">
           <?js= this.navOptions.systemName ?>
         </div>
       </div>
       <?js this.nav.topLevelNav.forEach(function(entry){ ?>
         <div class="ui-nav-item">
            <div class="ui-nav-content" role="presentation">
              <?js= entry.title ?>
            </div>
            <div class="ui-nav-folder">
               <div class="ui-nav-title"><?js= entry.title ?></div>
               <?js entry.members.forEach(function(member){ ?>
                 <div class="ui-nav-item active">
                    <?js= member ?>
                 </div>
               <?js	}); ?>
             </div>
           </div>
       <?js }); ?>
       <?js if (this.navOptions.search) { ?>
         <form class="ui-nav-widget" role="search" label="Search">
           <input
             type="text"
             class="ui-nav-widget-item ui-bordered"
             placeholder="Search"
             name="q"
             id="search-input"
           />
           <button
             class="ui-button ui-nav-widget-item"
             id="search-submit"
           >
             <span class="ui-nav-icon ui-icon-search" />
           </button>
         </form>
       <?js } ?>
     </nav>
  </div>
</header>
<main id="toc-content" class="ui-main">
  <div uirole="content" class="ui-main-content">
    <div class="ui-drawer ui-orientation-horizontal ui-fixed active">
      <div class="ui-drawer-content"></div>
    </div>
    <div class="ui-title ui-text-align-center ui-sticky">
      <h1 class="ui-title-content"><?js= this.navOptions.systemName ?></h1>
    </div>
    <div class="ui-grid">
      <div class="ui-grid-row">
        <div class="ui-grid-column ui-text-align-center ui-panel span-12">
          <?js= content ?>
        </div>
      </div>
    </div>
  </div>
</main>
<?js if (this.navOptions.search) { ?>
    <div class="ui-modal" id="searchResults">
      <div class="ui-modal-dialog">
        <div class="ui-modal-content">
          <div class="ui-modal-header">
            <button type="button" class="close" data-dismiss="ui-modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="ui-modal-title">Search results</h4>
          </div>
          <div class="ui-modal-body"></div>
          <div class="ui-modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="ui-modal">Close</button>
          </div>
        </div><!-- /.modal-content -->
      </div><!-- /.modal-dialog -->
    </div>
<?js } ?>
<footer class="ui-footer">
  <div class="ui-footer-content">
   <div class="ui-toolbar ui-fit-height">
      <div class="ui-toolbar-content ui-content-align-left">
         <div class="ui-toolbar-text">
           <?js if (that.navOptions.footer.length > 0){ ?>
           	<?js= that.navOptions.footer ?>
           <?js } ?>
           <?js if (that.navOptions.copyright.length > 0){ ?>
           	<span class="copyright">
           	<?js= that.navOptions.copyright ?>
           	</span>
           <?js } ?>
         </div>
      </div>
      <div class="ui-toolbar-content ui-content-align-right">
        <div class="ui-toolbar-text">
          <span class="jsdoc-message">
          	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc" class="ui-blue-text">JSDoc <?js= env.version.number ?></a>
          	<?js if (that.navOptions.includeDate) { ?>
          		on <?js= (that.moment().format(that.navOptions.dateFormat)) ?>
          	<?js } ?></a>
          </span>
        </div>
      </div>
   </div>
  </div>
</footer>
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>
<?js if (this.navOptions.search) { ?>
    <script type="text/javascript" src="scripts/fulltext-search-ui.js"></script>
<?js } ?>
<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : <?js= this.navOptions.linenums || false ?>,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#toc-content span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>
<?js if (this.navOptions.collapseSymbols) { ?>
<script>
	$( function () {
		$( '#toc-content' ).localScroll( {
			offset : { top : 60 } //offset by the height of your header (give or take a few px, see what works for you)
		} );
		$( "dt.name" ).each( function () {
			var $this = $( this ).find("h4");
			var icon = $( "<i/>" ).addClass( "ui-icon-add" ).addClass( "ui-float-right" );
			var dt = $(this);
			var children = dt.next( "dd" );

			dt.prepend( icon ).css( {cursor : "pointer"} );
			dt.addClass( "member-collapsed" ).addClass( "member" );


			children.hide();

			dt.children().on( "click", function () {
				children = dt.next( "dd" );
				children.slideToggle( "fast", function () {

					if ( children.is( ":visible" ) ) {
						icon.addClass( "ui-icon-remove" ).removeClass( "ui-icon-add" );
						dt.addClass( "member-open" ).animate( "member-collapsed" );
					} else {
						icon.addClass( "ui-icon-add" ).removeClass( "ui-icon-remove" );
						dt.addClass( "member-collapsed" ).removeClass( "member-open" );
					}
				} );
			} );

		} );
	} );
</script>
<?js } ?>
<?js if (this.navOptions.search) { ?>
    <script type="text/javascript">
        $(document).ready(function() {
            SearcherDisplay.init();
        });
    </script>
<?js } ?>
</body>
</html>
