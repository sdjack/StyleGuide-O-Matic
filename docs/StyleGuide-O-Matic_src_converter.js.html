<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width">
    <title>Source: StyleGuide-O-Matic/src/converter.js: Docs</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/syntax.default.css">
    <link type="text/css" rel="stylesheet" href="styles/style-o-matic.css">
</head>
<body>
<header class="ui-header ui-fixed">
  <nav class="ui-nav ui-orientation-horizontal">
     <div class="ui-nav-content">
       
         <div class="ui-nav-item">
            <i class="ui-nav-item-icon ui-icon-add"></i>
            <div class="ui-nav-item-content" role="presentation">
              Namespaces
            </div>
            <div class="ui-nav-folder">
               <div class="ui-nav-title">Namespaces</div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Accordion.html" class="ui-nav-item-content">components.Accordion</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.App.html" class="ui-nav-item-content">components.App</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Badge.html" class="ui-nav-item-content">components.Badge</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Breadcrumbs.html" class="ui-nav-item-content">components.Breadcrumbs</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Button.html" class="ui-nav-item-content">components.Button</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.ButtonBar.html" class="ui-nav-item-content">components.ButtonBar</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Card.html" class="ui-nav-item-content">components.Card</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.DatePicker.html" class="ui-nav-item-content">components.DatePicker</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Drawer.html" class="ui-nav-item-content">components.Drawer</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Dropdown.html" class="ui-nav-item-content">components.Dropdown</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Footer.html" class="ui-nav-item-content">components.Footer</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Form.html" class="ui-nav-item-content">components.Form</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Grid.html" class="ui-nav-item-content">components.Grid</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Header.html" class="ui-nav-item-content">components.Header</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Icon.html" class="ui-nav-item-content">components.Icon</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Input.html" class="ui-nav-item-content">components.Input</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Loading.html" class="ui-nav-item-content">components.Loading</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Main.html" class="ui-nav-item-content">components.Main</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Modal.html" class="ui-nav-item-content">components.Modal</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Nav.html" class="ui-nav-item-content">components.Nav</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Pagination.html" class="ui-nav-item-content">components.Pagination</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Pill.html" class="ui-nav-item-content">components.Pill</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Radio.html" class="ui-nav-item-content">components.Radio</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Select.html" class="ui-nav-item-content">components.Select</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Table.html" class="ui-nav-item-content">components.Table</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Tabs.html" class="ui-nav-item-content">components.Tabs</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Textarea.html" class="ui-nav-item-content">components.Textarea</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Title.html" class="ui-nav-item-content">components.Title</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.Toasts.html" class="ui-nav-item-content">components.Toasts</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.ToolBar.html" class="ui-nav-item-content">components.ToolBar</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="components.ToolTip.html" class="ui-nav-item-content">components.ToolTip</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="converter.html" class="ui-nav-item-content">converter</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="data.html" class="ui-nav-item-content">data</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="dispatcher.html" class="ui-nav-item-content">dispatcher</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="object.html" class="ui-nav-item-content">object</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="scsshelper.html" class="ui-nav-item-content">scsshelper</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="style-o-matic.html" class="ui-nav-item-content">style-o-matic</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="styleguide-o-matic.html" class="ui-nav-item-content">styleguide-o-matic</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.CONSTANTS.html" class="ui-nav-item-content">utilities.CONSTANTS</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.CoreComponent.html" class="ui-nav-item-content">utilities.CoreComponent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.coreUtilities.html" class="ui-nav-item-content">utilities.coreUtilities</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.EventManager.html" class="ui-nav-item-content">utilities.EventManager</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.getUnhandledProps.html" class="ui-nav-item-content">utilities.getUnhandledProps</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.propUtilities.html" class="ui-nav-item-content">utilities.propUtilities</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.ROLE.html" class="ui-nav-item-content">utilities.ROLE</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="utilities.UIGlobals.html" class="ui-nav-item-content">utilities.UIGlobals</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
             </div>
           </div>
       
         <div class="ui-nav-item">
            <i class="ui-nav-item-icon ui-icon-add"></i>
            <div class="ui-nav-item-content" role="presentation">
              Modules
            </div>
            <div class="ui-nav-folder">
               <div class="ui-nav-title">Modules</div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="module-template_publish.html" class="ui-nav-item-content">template/publish</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
             </div>
           </div>
       
         <div class="ui-nav-item">
            <i class="ui-nav-item-icon ui-icon-add"></i>
            <div class="ui-nav-item-content" role="presentation">
              Classes
            </div>
            <div class="ui-nav-folder">
               <div class="ui-nav-title">Classes</div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="AccordionContent.html" class="ui-nav-item-content">AccordionContent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="AccordionTitle.html" class="ui-nav-item-content">AccordionTitle</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="BadgeContent.html" class="ui-nav-item-content">BadgeContent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="BadgeIcon.html" class="ui-nav-item-content">BadgeIcon</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="EventManager.html" class="ui-nav-item-content">EventManager</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="MainContent.html" class="ui-nav-item-content">MainContent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="ManagedEvent.html" class="ui-nav-item-content">ManagedEvent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="UIGlobals.html" class="ui-nav-item-content">UIGlobals</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
             </div>
           </div>
       
         <div class="ui-nav-item">
            <i class="ui-nav-item-icon ui-icon-add"></i>
            <div class="ui-nav-item-content" role="presentation">
              Global
            </div>
            <div class="ui-nav-folder">
               <div class="ui-nav-title">Global</div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#AccordionExample" class="ui-nav-item-content">AccordionExample</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#assignPropType" class="ui-nav-item-content">assignPropType</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#debugMessage" class="ui-nav-item-content">debugMessage</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#DefaultPropTypes" class="ui-nav-item-content">DefaultPropTypes</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#DefaultPropValues" class="ui-nav-item-content">DefaultPropValues</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#defaultRect" class="ui-nav-item-content">defaultRect</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getChildClass" class="ui-nav-item-content">getChildClass</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getElementType" class="ui-nav-item-content">getElementType</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getParentClass" class="ui-nav-item-content">getParentClass</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getUIClassString" class="ui-nav-item-content">getUIClassString</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getUnhandledProps" class="ui-nav-item-content">getUnhandledProps</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#getValidProps" class="ui-nav-item-content">getValidProps</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#INHERITED_PROPS" class="ui-nav-item-content">INHERITED_PROPS</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#isLeftClickEvent" class="ui-nav-item-content">isLeftClickEvent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#isModifiedEvent" class="ui-nav-item-content">isModifiedEvent</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#NATIVE_PROPS" class="ui-nav-item-content">NATIVE_PROPS</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#NON_INHERITABLE" class="ui-nav-item-content">NON_INHERITABLE</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#NON_INHERITING" class="ui-nav-item-content">NON_INHERITING</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#OBSERVABLE_EVENTS" class="ui-nav-item-content">OBSERVABLE_EVENTS</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#s4" class="ui-nav-item-content">s4</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setCorePropDefaults" class="ui-nav-item-content">setCorePropDefaults</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setCorePropTypes" class="ui-nav-item-content">setCorePropTypes</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setPropDefaults" class="ui-nav-item-content">setPropDefaults</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setPropDefaultsAutoId" class="ui-nav-item-content">setPropDefaultsAutoId</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setPropTypes" class="ui-nav-item-content">setPropTypes</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#setPropTypesA11y" class="ui-nav-item-content">setPropTypesA11y</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#stringToPropType" class="ui-nav-item-content">stringToPropType</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#THEME_ENABLED" class="ui-nav-item-content">THEME_ENABLED</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
                 <div class="ui-nav-folder-item active">
                    <a href="global.html#uID" class="ui-nav-item-content">uID</a>
                    <span class="ui-nav-item-icon ui-icon-star"></span>
                 </div>
               
             </div>
           </div>
       
       
     </div>
  </nav>
</header>
<main id="toc-content" class="ui-main">
  <div uirole="content" class="scroll-wrapper">
    <div class="ui-main-content">
      <div class="ui-drawer ui-orientation-horizontal ui-fixed active">
        <div class="ui-drawer-content"></div>
      </div>
      <div class="ui-title ui-text-align-center ui-sticky">
        <h1 class="ui-title-content">Docs</h1>
      </div>
      <div class="ui-grid">
        <div class="ui-grid-row">
          <div class="ui-grid-column ui-text-align-center ui-panel span-12">
        	    
  
  		<h1 class="page-title">Source: StyleGuide-O-Matic/src/converter.js</h1>
      
<section>
    <article>
        <pre
            class="sunlight-highlight-javascript linenums">/**
 * Experimental style guide generator for use primarily with Style-O-Matic
 * @namespace converter
 */
var File = require("vinyl");
var Q = require("q");
var _ = require("lodash");
var path = require("path");
var async = require("async");
var fs = require("fs");
var through = require("through2");
var sass = require("node-sass");
var sassExtract = require("sass-extract");
var getDispatcher = require("./dispatcher").getDispatcher;
var getSourceFileObject = require("./object").getSourceFileObject;
var getScssHelper = require("./scsshelper").getScssHelper;
var PLUGIN_NAME = "StyleGuide-O-Matic";
var CoM = require("console-o-matic");

CoM.setName(PLUGIN_NAME);

/**
 * Default configuration. Everything here can be overridden
 * @constant {Object} options
 * @property {Boolean} options.examples - Generate example boilerplate files
 * @property {Boolean} options.styles - Generate sass extractions.
 * @property {String} options.dest - Output directory.
 * @property {Object} options.src - Source file location data
 * @property {Array} options.componentList - List of component names to be included
 * @memberof converter
 */
var options = {
  examples: false,
  styles: false,
  dest: "",
  src: {
    root: "",
    components: null,
    styles: null
  },
  componentList: []
};

/**
 * Stored RegExp patterns
 * @constant {Object} PATTERNS
 * @property {RegExp} PATTERNS.comments1 - RegExp pattern
 * @property {RegExp} PATTERNS.comments2 - RegExp pattern
 * @property {RegExp} PATTERNS.docFlags - RegExp pattern
 * @memberof converter
 */
const PATTERNS = {
  comments1: /((?:\/\*){1}[\w\d\s\W\S]*?(?:\*\/){1})|((?:\/\/){1}[\w\d\s\W]*?(?:[\r\n]))/g,
  comments2: /(\n+(?![^\n]))/gm,
  docFlags: /(?:@)([\w]+)\s([\w\W\s\S]+?)(?=[\W]+@|[\W]+\*\/)/gm
};

/**
 * Verify that file is included
 * @function checkIncluded
 * @param {String} pathValue
 * @param {Array} pathList
 * @return {Boolean} valid
 * @memberof converter
 */
function checkIncluded(pathValue, pathList) {
  var valid = false;
  _.forEach(pathList, (name) => {
    if (pathValue.indexOf(`\\${name}.js`) !== -1) {
      valid = true;
    }
  });
  return valid;
}

/**
 * Misc helper func
 * @function prepareStyleData
 * @param {Object} styleData
 * @return {Object} output
 * @memberof converter
 */
function prepareStyleData(styleData) {
  var output = {};
  Object.entries(styleData.vars.global).forEach(
    ([name,data])=>{
      if (data.declarations &amp;&amp; data.declarations.length > 0) {
        _.forEach(data.declarations, (decData) => {
          if (decData.in) {
            var fileName = path.basename(decData.in, path.extname(decData.in));
            if (!output[fileName]) {
              output[fileName] = {global: []};
            }
            output[fileName].global.push(data);
          }
        });
      }
    });

  return output;
}

/**
 * Misc helper func
 * @function makeFile
 * @param {String} dest
 * @param {Stream} stream
 * @param {*} buffer
 * @memberof converter
 */
function makeFile(dest, stream, buffer) {
  stream.push(
    new File({
      cwd: "./",
      base: "./",
      path: dest,
      contents: buffer
    })
  );
}

/**
 * Misc helper func
 * @function makeTemplateFile
 * @param {File} template
 * @param {String} filePath
 * @param {Stream} stream
 * @param {Object} data
 * @return {Promise.promise|*}
 * @memberof converter
 */
function makeTemplateFile(fileName, template, filePath, stream, data) {
  var deferred = Q.defer();
  var id = _.uniqueId();
  var out = "";

  try {
    var compiled = _.template(template);
    out = compiled(data);
    CoM.log(`Generating |skyblue:|${fileName}|:skyblue| in |seagreen:|${filePath}|:seagreen|`);
  } catch (e) {
    deferred.reject(e);
    CoM.warn(e);
    return deferred.promise;
  }

  var fileBuffer = new Buffer(out);
  makeFile(filePath, stream, fileBuffer);

  deferred.resolve(out);

  return deferred.promise;
}

/**
 * Misc helper func
 * @function writeGuideFiles
 * @param {Stream} stream
 * @param {Object} data
 * @param {Object} config
 * @memberof converter
 */
function writeGuideFiles(stream, file, config, scsshelper) {
  var fileName = `${file.data.name}.md`;
  var template = fs.readFileSync(__dirname + "/template/ComponentReadMe", "utf-8");
  var filePath = path.join(config.dest, fileName);
  // if (config.src.styles) {
  //   var stylePath = path.join(config.src.styles, `components/${file.data.name}/loader.scss`);
  //   if (fs.existsSync(stylePath)) {
  //     file.data.styles = sassExtract.renderSync({ file: stylePath });
  //     var cssSource = file.data.styles.css.toString();
  //     cssSource = cssSource.replace(PATTERNS.comments1, "");
  //     cssSource = cssSource.replace(PATTERNS.comments2, "");
  //     file.data.styles.css = cssSource;
  //   }
  // }
  makeTemplateFile(fileName, template, filePath, stream, file.data);
}

/**
 * Misc helper func
 * @function writeExampleFiles
 * @param {Stream} stream
 * @param {Object} data
 * @param {Object} config
 * @memberof converter
 */
function writeExampleFiles(stream, file, config) {
  var fileName = "Example.js";
  var template = fs.readFileSync(__dirname + "/template/Example", "utf-8");
  var filePath = path.join(config.dest, file.id, fileName);
  makeTemplateFile(fileName, template, filePath, stream, file.data);

  return file.data;
}

/**
 * Misc helper func
 * @function writeStyleFiles
 * @param {Stream} stream
 * @param {Object} data
 * @param {Object} config
 * @memberof converter
 */
function writeStyleFiles(stream, file, config, cb) {
  var fileName = `${file.id}.md`;
  var template = fs.readFileSync(__dirname + "/template/StyleReadMe", "utf-8");
  var filePath = path.join(config.dest, fileName);
  var rendered = sassExtract.renderSync({ file: file.path });
  makeTemplateFile(fileName, template, filePath, stream, rendered);
  if (cb) {
    return cb(file.data);
  }

  return file.data;
}

module.exports = function(config) {
  config = _.merge(_.cloneDeep(options), config || {});

  CoM.log("Working...");
  var dispatcher = getDispatcher(config);

  return through.obj(
    function(file, enc, cb) {
      var stream = this;
      if (file.contents &amp;&amp; checkIncluded(file.path, config.componentList)) {
        // dispatcher.register(file);
        const extension = path.extname(file.path);
        const fileObject = getSourceFileObject(file, config);
        if (fileObject.data) {
          if (config.examples) {
            writeExampleFiles(stream, fileObject, config);
          } else {
            writeGuideFiles(stream, fileObject, config);
          }
        }
      }
      cb(null);
    },
    function(cb) {
      // var stream = this;
      // dispatcher.compile(function(err, fileObject) {
      //   if (fileObject.data) {
      //     if (config.examples) {
      //       writeExampleFiles(stream, fileObject, config);
      //     } else {
      //       writeGuideFiles(stream, fileObject, config, styleData);
      //     }
      //   }
      // });
      CoM.log("Work Complete");
      cb(null);
    }
  );
};
</pre>
    </article>
</section>

  
  

        	</div>
        </div>
      </div>
    </div>
  </div>
</main>

<footer class="ui-footer">
   <div class="ui-toolbar">
      <div class="ui-toolbar-content ui-content-align-left">
         <div class="ui-toolbar-item">
           
           
           	<span class="copyright">
           	StyleGuide-O-Matic © 2018, DocStrap © 2012-2015.
           	</span>
           
         </div>
      </div>
      <div class="ui-toolbar-content ui-content-align-right">
        <div class="ui-toolbar-item">
          <span class="jsdoc-message">
          	Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a>
          	
          		on Wed Oct 31st 2018
          	</a>
          </span>
        </div>
      </div>
   </div>
</footer>
<script src="scripts/docstrap.lib.js"></script>
<script src="scripts/toc.js"></script>

<script>
$( function () {
	$( "[id*='$']" ).each( function () {
		var $this = $( this );

		$this.attr( "id", $this.attr( "id" ).replace( "$", "__" ) );
	} );

	$( ".tutorial-section pre, .readme-section pre, pre.prettyprint.source" ).each( function () {
		var $this = $( this );

		var example = $this.find( "code" );
		exampleText = example.html();
		var lang = /{@lang (.*?)}/.exec( exampleText );
		if ( lang && lang[1] ) {
			exampleText = exampleText.replace( lang[0], "" );
			example.html( exampleText );
			lang = lang[1];
		} else {
			var langClassMatch = example.parent()[0].className.match(/lang\-(\S+)/);
			lang = langClassMatch ? langClassMatch[1] : "javascript";
		}

		if ( lang ) {

			$this
			.addClass( "sunlight-highlight-" + lang )
			.addClass( "linenums" )
			.html( example.html() );

		}
	} );

	Sunlight.highlightAll( {
		lineNumbers : true,
		showMenu : true,
		enableDoclinks : true
	} );

	$.catchAnchorLinks( {
        navbarOffset: 10
	} );
	$( "#toc" ).toc( {
		anchorName  : function ( i, heading, prefix ) {
			return $( heading ).attr( "id" ) || ( prefix + i );
		},
		selectors   : "#toc-content h1,#toc-content h2,#toc-content h3,#toc-content h4",
		showAndHide : false,
		smoothScrolling: true
	} );

	$( "#toc-content span[id^='toc']" ).addClass( "toc-shim" );
	$( '.dropdown-toggle' ).dropdown();

    $( "table" ).each( function () {
      var $this = $( this );
      $this.addClass('table');
    } );

} );
</script>


</body>
</html>
